# Agent

## 开发编辑器

请使用vscode开发以获取所有特性

## vscode插件依赖

1. Mypy Type Checker
2. Pylance
3. Pylint
4. Python
5. Python Debugger



## TODO List

| 需求清单              | 需求标签    | 需求级别 | 需求难度 | 预估截止日期     | 需求描述                                     | 是否完成 |
| ----------------- | ------- | ---- | ---- | ---------- | ---------------------------------------- | ---- |
| **程序异步化改造**       | backend | p0   | ⭐⭐   | 2025-04-13 |                                          | ×    |
| \|- web请求异步       |         |      |      |            | 接口改为使用`async`<br />( Tornado 的 `RequestHandler` 从 **5.0 版本**开始原生支持 `async/await` 语法) | ×    |
| \|- 数据库异步         |         |      |      |            | 使用`peewee-async`                         | ×    |
| \|- 网络异步          |         |      |      |            | 增加`httpx`依赖, 取代`requests`                | ×    |
|                   |         |      |      |            |                                          |      |
| **`ai`聊天**        |         | p0   | ⭐⭐⭐⭐ |            |                                          |      |
| \|- 获取所有模型类型的接口   |         |      |      |            | 1. 定义一个模型类型枚举, 返回给前端<br />2. 参考下别人的ai网站有哪些流行的模型类型 |      |
| \|- 对模型配置的CRUD接口  |         |      |      |            | 1. 定义一个模型配置`dataclass`<br />2. 数据库建表, 存储对每一个模型的配置 |      |
| \|- 聊天会话管理        |         |      |      |            | 设计聊天会话表                                  |      |
| \|- 会话的历史消息管理     |         |      |      |            | 设计历史消息管理                                 |      |
| \|- 聊天Node节点开发    |         |      |      |            | 1. 根据选择的模型读取模型配置, 将用户提问透传给大模型<br />2. 支持流式/非流式两种方式 |      |
|                   |         |      |      |            |                                          |      |
| **sentry集成前后端日志** | backend | p3   | ⭐⭐⭐⭐ |            |                                          |      |
|                   |         |      |      |            |                                          |      |
| **日志系统持续改造**      | backend | p3   | ⭐⭐   |            |                                          |      |
|                   |         |      |      |            | 性能日志集成到`baseController`中, 统计每个接口响应时间     |      |
|                   |         |      |      |            | 对`sql api`进行封装, 集成性能日志集成到, 统计`sql`执行时间   |      |

